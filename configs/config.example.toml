# OpenManus-Go Configuration Example
# Copy this file to config.toml and customize as needed
#
# ğŸ”§ Quick Setup:
#   1. Copy: cp configs/config.example.toml configs/config.toml
#   2. Edit: Set your LLM API key and other required settings
#   3. Run: ./bin/openmanus run --config configs/config.toml
#
# ğŸ³ Docker Environment:
#   - Use environment variables for sensitive data
#   - Set host = "0.0.0.0" for container deployment
#   - Use service names for Redis/MySQL addresses (e.g., "redis:6379")

[llm]
# æ¨èæ¨¡å‹é…ç½® (Recommended models)
model = "deepseek-chat"                    # æˆ– "gpt-3.5-turbo", "gpt-4", "claude-3-sonnet"
base_url = "https://api.deepseek.com/v1"   # æˆ–ä½¿ç”¨ç¯å¢ƒå˜é‡: "${OPENMANUS_LLM_BASE_URL}"
api_key = "your-api-key-here"              # ğŸ”‘ REQUIRED: å¿…é¡»è®¾ç½® API key
temperature = 0.1                          # ç”Ÿæˆæ¸©åº¦ (0.0-1.0)
max_tokens = 4000                          # æœ€å¤§ä»¤ç‰Œæ•°
timeout = 60                               # è¯·æ±‚è¶…æ—¶æ—¶é—´ (ç§’)

[agent]
max_steps = 15                             # æœ€å¤§æ‰§è¡Œæ­¥æ•°
max_tokens = 10000                         # æœ€å¤§ä»¤ç‰Œé¢„ç®—
max_duration = "10m"                       # æœ€å¤§æ‰§è¡Œæ—¶é—´
reflection_steps = 3                       # åæ€æ­¥æ•°é—´éš”
max_retries = 3                            # æœ€å¤§é‡è¯•æ¬¡æ•°
retry_backoff = "2s"                       # é‡è¯•é—´éš”

[server]
host = "localhost"                         # Docker: "0.0.0.0"
port = 8080

[storage]
type = "file"                              # Options: file, memory, redis, s3
base_path = "./data/traces"                # Docker: "/app/data/traces"

# Redis å­˜å‚¨é…ç½® (æ¨èç”¨äºç”Ÿäº§ç¯å¢ƒ)
[storage.redis]
addr = "localhost:6379"                    # Docker: "redis:6379"
password = ""                              # ç”Ÿäº§ç¯å¢ƒå»ºè®®è®¾ç½®å¯†ç 
db = 0
max_retries = 3
dial_timeout = "5s"
read_timeout = "3s"
write_timeout = "3s"

[logging]
level = "info"                             # debug | info | warn | error
output = "console"                         # console | file | both
format = "text"                            # text | json (Docker æ¨è json)
file_path = "./logs/openmanus.log"

# å·¥å…·é…ç½®
[tools.http]
timeout = 45
max_redirects = 5
user_agent = "OpenManus-Go/1.0"
allowed_domains = []                       # ç©ºæ•°ç»„ = å…è®¸æ‰€æœ‰åŸŸå
blocked_domains = ["localhost", "127.0.0.1", "169.254.169.254"]

[tools.filesystem]
allowed_paths = ["./workspace", "./data", "./examples"]  # Docker: ["/app/workspace", "/app/data"]
blocked_paths = ["/etc", "/sys", "/proc", "/root", "/var"]
max_file_size = "100MB"

[tools.browser]
headless = true
timeout = 60
user_agent = "OpenManus-Go/1.0"
# Docker Chrome å‚æ•°
chrome_args = [
  "--no-sandbox",
  "--disable-dev-shm-usage",
  "--disable-gpu"
]

# æ•°æ®åº“é…ç½®
[tools.database.mysql]
dsn = "user:password@tcp(localhost:3306)/dbname"  # Docker: "openmanus:password@tcp(mysql:3306)/openmanus"
max_open_conns = 10
max_idle_conns = 5
conn_max_lifetime = "1h"

[tools.database.redis]
addr = "localhost:6379"                    # Docker: "redis:6379"
password = ""
db = 1                                     # ä¸å­˜å‚¨ä½¿ç”¨ä¸åŒçš„æ•°æ®åº“
pool_size = 10

# MCP æœåŠ¡å™¨é…ç½®ç¤ºä¾‹
[[mcp_servers]]
name = "stock-helper"
transport = "sse"
url = "https://mcp.higress.ai/mcp-stock-helper/your-session-id/sse"
timeout = 30
retry_count = 3

# å¯é€‰é…ç½®
[performance]
worker_count = 4                           # å·¥ä½œçº¿ç¨‹æ•°
queue_size = 100
gc_percent = 100

[monitoring]
enabled = false                            # ç”Ÿäº§ç¯å¢ƒå»ºè®®å¯ç”¨
metrics_port = 9090
prometheus_path = "/metrics"

[security]
enable_cors = true
cors_origins = ["*"]                       # ç”Ÿäº§ç¯å¢ƒåº”é™åˆ¶å…·ä½“åŸŸå
cors_methods = ["GET", "POST", "PUT", "DELETE", "OPTIONS"]
