# OpenManus-Go Production Configuration
# ç”Ÿäº§ç¯å¢ƒé…ç½®

[llm]
model = "deepseek-chat"                    # ç”Ÿäº§æ¨èç¨³å®šæ¨¡å‹
base_url = "https://api.deepseek.com/v1"   # æˆ–ä½¿ç”¨ç¯å¢ƒå˜é‡: "${OPENMANUS_LLM_BASE_URL}"
api_key = "${OPENMANUS_LLM_API_KEY}"       # ğŸ”‘ ä½¿ç”¨ç¯å¢ƒå˜é‡
temperature = 0.1                          # ä¿æŒè¾ƒä½æ¸©åº¦ç¡®ä¿ç¨³å®šæ€§
max_tokens = 4000                          # é€‚ä¸­çš„ä»¤ç‰Œæ•°
timeout = 120                              # ç”Ÿäº§ç¯å¢ƒæ›´é•¿è¶…æ—¶

[agent]
max_steps = 25                             # ç”Ÿäº§ç¯å¢ƒé€‚åº¦å¢åŠ æ­¥æ•°
max_tokens = 15000                         # æ›´å¤§çš„ä»¤ç‰Œé¢„ç®—
max_duration = "15m"                       # æ›´é•¿çš„æ‰§è¡Œæ—¶é—´
reflection_steps = 5                       # æ›´é¢‘ç¹çš„åæ€
max_retries = 2                            # å‡å°‘é‡è¯•é¿å…èµ„æºæµªè´¹
retry_backoff = "3s"                       # æ›´é•¿çš„é‡è¯•é—´éš”

[runflow]
use_data_analysis_agent = true             # ç”Ÿäº§ç¯å¢ƒå¯ç”¨æ•°æ®åˆ†æ
enable_multi_agent = true                  # å¯ç”¨å¤šæ™ºèƒ½ä½“åä½œ

[server]
host = "0.0.0.0"                          # å®¹å™¨éƒ¨ç½²å¿…é¡»ç»‘å®šæ‰€æœ‰æ¥å£
port = 8080

[storage]
type = "redis"                             # ç”Ÿäº§ç¯å¢ƒæ¨è Redis
base_path = "/app/data/traces"             # å®¹å™¨å†…è·¯å¾„

# Redis å­˜å‚¨é…ç½® (ç”Ÿäº§ç¯å¢ƒå¿…éœ€)
[storage.redis]
addr = "${REDIS_ADDR:redis:6379}"          # æ”¯æŒç¯å¢ƒå˜é‡å’Œé»˜è®¤å€¼
password = "${REDIS_PASSWORD}"             # ä½¿ç”¨ç¯å¢ƒå˜é‡
db = 0

# S3 å­˜å‚¨é…ç½® (é•¿æœŸå½’æ¡£å¯é€‰)
[storage.s3]
region = "${AWS_REGION:us-east-1}"
bucket = "${S3_BUCKET:openmanus-traces-prod}"
access_key = "${AWS_ACCESS_KEY_ID}"
secret_key = "${AWS_SECRET_ACCESS_KEY}"

[logging]
level = "warn"                             # ç”Ÿäº§ç¯å¢ƒåªè®°å½•è­¦å‘Šå’Œé”™è¯¯
output = "both"                            # åŒæ—¶è¾“å‡ºåˆ°æ§åˆ¶å°å’Œæ–‡ä»¶
file_path = "/app/logs/openmanus.log"      # å®¹å™¨å†…æ—¥å¿—è·¯å¾„

# å·¥å…·é…ç½®
[tools.http]
timeout = 60                               # ç”Ÿäº§ç¯å¢ƒè¾ƒé•¿è¶…æ—¶
allowed_domains = []                       # å¯æ ¹æ®éœ€è¦é™åˆ¶åŸŸå
blocked_domains = [
  "localhost", "127.0.0.1", "0.0.0.0",
  "169.254.169.254"                        # AWS å…ƒæ•°æ®æœåŠ¡
]

[tools.filesystem]
allowed_paths = ["/app/workspace", "/app/data", "/tmp/openmanus"]
blocked_paths = ["/etc", "/sys", "/proc", "/root", "/var", "/usr", "/boot"]

[tools.browser]
headless = true                            # æ— å¤´æ¨¡å¼å¿…éœ€
timeout = 90                               # æµè§ˆå™¨è¶…æ—¶
user_agent = "OpenManus-Go/1.0"

# ç”Ÿäº§æ•°æ®åº“é…ç½®
[tools.database.mysql]
dsn = "${MYSQL_DSN}"                       # ä½¿ç”¨ç¯å¢ƒå˜é‡

[tools.database.redis]
addr = "${REDIS_TOOLS_ADDR:redis:6379}"    # å·¥å…·ä¸“ç”¨ Redis
password = "${REDIS_TOOLS_PASSWORD}"
db = 1                                     # ä¸å­˜å‚¨åˆ†ç¦»

[tools.database.elasticsearch]
addresses = ["${ELASTICSEARCH_URL:http://elasticsearch:9200}"]
username = "${ELASTICSEARCH_USERNAME}"
password = "${ELASTICSEARCH_PASSWORD}"

# ç”Ÿäº§ MCP æœåŠ¡å™¨é…ç½®
[mcp.servers]

[mcp.servers.mcp-stock-helper]
url = "${MCP_STOCK_HELPER_URL}"

[mcp.servers.mcp-calendar-holiday-helper]
url = "${MCP_CALENDAR_HELPER_URL}"

# MCP æœåŠ¡å™¨è®¤è¯å¤´é…ç½® (å¦‚éœ€è¦)
# [mcp.servers.mcp-stock-helper.headers]
# Authorization = "${MCP_STOCK_HELPER_TOKEN}"
# [mcp.servers.mcp-calendar-holiday-helper.headers]
# X-API-Key = "${MCP_CALENDAR_HELPER_KEY}"