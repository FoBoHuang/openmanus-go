# å·¥å…·ä½¿ç”¨ç¤ºä¾‹

è¿™ä¸ªç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•åœ¨ OpenManus-Go æ¡†æ¶ä¸­æ³¨å†Œã€é…ç½®å’Œä½¿ç”¨å„ç§å†…ç½®å·¥å…·ã€‚

## ğŸ¯ å­¦ä¹ ç›®æ ‡

é€šè¿‡è¿™ä¸ªç¤ºä¾‹ï¼Œä½ å°†å­¦ä¼šï¼š
- å¦‚ä½•æ³¨å†Œå¤šç§å†…ç½®å·¥å…·
- å¦‚ä½•ç›´æ¥è°ƒç”¨å·¥å…·æ–¹æ³•
- å¦‚ä½•è®© Agent æ™ºèƒ½é€‰æ‹©å·¥å…·
- å·¥å…·çš„é…ç½®å’Œæƒé™ç®¡ç†
- å·¥å…·ä½¿ç”¨çš„æœ€ä½³å®è·µ

## ğŸ”§ æ”¯æŒçš„å·¥å…·

### æ ¸å¿ƒå·¥å…·ï¼ˆæ— ä¾èµ–ï¼‰
- **æ–‡ä»¶ç³»ç»Ÿå·¥å…· (fs)** - æ–‡ä»¶è¯»å†™ã€ç›®å½•æ“ä½œ
- **HTTP å·¥å…· (http)** - HTTP è¯·æ±‚å’Œå“åº”å¤„ç†
- **çˆ¬è™«å·¥å…· (crawler)** - ç½‘é¡µå†…å®¹æŠ“å–

### å¯é€‰å·¥å…·ï¼ˆéœ€è¦å¤–éƒ¨ä¾èµ–ï¼‰
- **æµè§ˆå™¨å·¥å…· (browser)** - éœ€è¦ Chrome/Chromium
- **Redis å·¥å…· (redis)** - éœ€è¦ Redis æœåŠ¡
- **MySQL å·¥å…· (mysql)** - éœ€è¦ MySQL æœåŠ¡

## ğŸ“‹ å‰ç½®æ¡ä»¶

### åŸºæœ¬è¦æ±‚
1. **Go ç¯å¢ƒ**ï¼šGo 1.21+
2. **é¡¹ç›®æ„å»º**ï¼šè¿è¡Œ `make build`
3. **å·¥ä½œç›®å½•**ï¼šç¡®ä¿ `workspace/` ç›®å½•å­˜åœ¨

### å¯é€‰ä¾èµ–
```bash
# Chrome/Chromiumï¼ˆç”¨äºæµè§ˆå™¨å·¥å…·ï¼‰
# Ubuntu/Debian
sudo apt-get install chromium-browser

# macOS
brew install chromium

# Redisï¼ˆç”¨äº Redis å·¥å…·ï¼‰
# Ubuntu/Debian
sudo apt-get install redis-server

# macOS
brew install redis

# MySQLï¼ˆç”¨äº MySQL å·¥å…·ï¼‰
# Ubuntu/Debian
sudo apt-get install mysql-server

# macOS
brew install mysql
```

## ğŸš€ è¿è¡Œç¤ºä¾‹

```bash
# è¿›å…¥ç¤ºä¾‹ç›®å½•
cd examples/basic/02-tool-usage

# è¿è¡Œç¤ºä¾‹
go run main.go
```

## ğŸ“Š é¢„æœŸè¾“å‡º

### æ—  API Key æ¨¡å¼
```
ğŸ”§ OpenManus-Go Tool Usage Example
==================================

âš ï¸  æœªè®¾ç½® LLM API Keyï¼Œå°†æ¼”ç¤ºå·¥å…·æ³¨å†Œå’ŒåŸºæœ¬è°ƒç”¨

âœ… åŸºç¡€ç»„ä»¶å·²åˆ›å»º

ğŸ”§ æ³¨å†Œå†…ç½®å·¥å…·...
  âœ… æ–‡ä»¶ç³»ç»Ÿå·¥å…· (fs)
  âœ… HTTP å·¥å…· (http)
  âš ï¸  æµè§ˆå™¨å·¥å…·æ³¨å†Œå¤±è´¥ (å¯èƒ½ç¼ºå°‘ Chrome): browser initialization failed
  âœ… çˆ¬è™«å·¥å…· (crawler)
  âš ï¸  Redis å·¥å…·æ³¨å†Œå¤±è´¥ (å¯èƒ½ç¼ºå°‘ Redis æœåŠ¡): connection refused
  âš ï¸  MySQL å·¥å…·æ³¨å†Œå¤±è´¥ (å¯èƒ½ç¼ºå°‘ MySQL æœåŠ¡): connection refused

ğŸ“Š æ€»è®¡æ³¨å†Œäº† 3 ä¸ªå·¥å…·

ğŸ“‹ å·¥å…·è¯¦ç»†ä¿¡æ¯:
================
1. fs
   æè¿°: æ–‡ä»¶ç³»ç»Ÿæ“ä½œå·¥å…·ï¼Œæ”¯æŒæ–‡ä»¶è¯»å†™ã€ç›®å½•æ“ä½œç­‰åŠŸèƒ½
   å‚æ•°: operation, path, content

2. http
   æè¿°: HTTP å®¢æˆ·ç«¯å·¥å…·ï¼Œæ”¯æŒ GETã€POST ç­‰è¯·æ±‚æ–¹æ³•
   å‚æ•°: url, method, headers, body

3. crawler
   æè¿°: ç½‘é¡µçˆ¬è™«å·¥å…·ï¼Œæ”¯æŒç½‘é¡µå†…å®¹æŠ“å–å’Œè§£æ
   å‚æ•°: url, selector, wait_time

ğŸ§ª ç›´æ¥å·¥å…·è°ƒç”¨æ¼”ç¤º
==================

ğŸ“ æ–‡ä»¶ç³»ç»Ÿå·¥å…·æ¼”ç¤º:
  âœ… å†™æ–‡ä»¶æˆåŠŸ: true
  âœ… è¯»æ–‡ä»¶æˆåŠŸï¼Œå†…å®¹: Tool test at 2024-01-20 15:30:45
  âœ… ç›®å½•åˆ—è¡¨ (3 ä¸ªæ–‡ä»¶):
    - tool_test.txt (file)
    - hello.txt (file)
    - traces (directory)

ğŸŒ HTTP å·¥å…·æ¼”ç¤º:
  âœ… HTTP è¯·æ±‚æˆåŠŸ
    çŠ¶æ€ç : 200
    å†…å®¹ç±»å‹: application/json
    å“åº”ä½“: {"slideshow": {"author": "Yours Truly", "date": "date of publication"...

ğŸ’¡ æç¤ºï¼šè®¾ç½® API Key åå¯ä»¥çœ‹åˆ° Agent æ™ºèƒ½é€‰æ‹©å’Œä½¿ç”¨å·¥å…·çš„å®Œæ•´è¿‡ç¨‹

ğŸ“Š å·¥å…·ä½¿ç”¨æ€»ç»“
===============
ğŸ”§ å¯ç”¨å·¥å…·æ•°é‡: 3
âœ… æˆåŠŸæ³¨å†Œçš„å·¥å…·: [fs http crawler]

ğŸ’¡ å·¥å…·ä½¿ç”¨æœ€ä½³å®è·µ:
1. æ ¹æ®éœ€æ±‚é€‰æ‹©åˆé€‚çš„å·¥å…·
2. æ³¨æ„å·¥å…·çš„ä¾èµ–æœåŠ¡ï¼ˆå¦‚ Redisã€MySQLï¼‰
3. åˆç†è®¾ç½®å·¥å…·çš„è®¿é—®æƒé™å’Œè·¯å¾„é™åˆ¶
4. ä½¿ç”¨ Agent è®© LLM æ™ºèƒ½é€‰æ‹©å·¥å…·
5. å®šæœŸä¿å­˜å’Œåˆ†ææ‰§è¡Œè½¨è¿¹

ğŸ‰ å·¥å…·ä½¿ç”¨ç¤ºä¾‹å®Œæˆï¼
```

### æœ‰ API Key æ¨¡å¼
è®¾ç½® API Key åï¼Œè¿˜ä¼šçœ‹åˆ° Agent æ™ºèƒ½ä½¿ç”¨å·¥å…·çš„æ¼”ç¤ºï¼š

```
ğŸ¤– Agent å·¥å…·ä½¿ç”¨æ¼”ç¤º
=====================

ğŸ“‹ Agent ä»»åŠ¡ 1: æ£€æŸ¥ workspace ç›®å½•ä¸‹æœ‰å“ªäº›æ–‡ä»¶
------------------------------------
ğŸ¤” Agent æ€è€ƒ: æˆ‘éœ€è¦ä½¿ç”¨æ–‡ä»¶ç³»ç»Ÿå·¥å…·æ¥åˆ—å‡º workspace ç›®å½•çš„å†…å®¹
ğŸ”§ å·¥å…·è°ƒç”¨: fs(operation="list", path="workspace")
ğŸ“Š å·¥å…·ç»“æœ: æ‰¾åˆ° 5 ä¸ªæ–‡ä»¶å’Œç›®å½•
âœ… ä»»åŠ¡å®Œæˆ: workspace ç›®å½•åŒ…å«ä»¥ä¸‹æ–‡ä»¶ï¼štool_test.txtã€hello.txtã€traces ç›®å½•ç­‰

ğŸ“‹ Agent ä»»åŠ¡ 2: è·å– https://httpbin.org/ip çš„å“åº”å†…å®¹
------------------------------------
ğŸ¤” Agent æ€è€ƒ: æˆ‘éœ€è¦ä½¿ç”¨ HTTP å·¥å…·æ¥è·å–æŒ‡å®š URL çš„å†…å®¹
ğŸ”§ å·¥å…·è°ƒç”¨: http(url="https://httpbin.org/ip", method="GET")
ğŸ“Š å·¥å…·ç»“æœ: HTTP 200ï¼Œè·å–åˆ° IP ä¿¡æ¯
âœ… ä»»åŠ¡å®Œæˆ: æ‚¨çš„ IP åœ°å€æ˜¯ xxx.xxx.xxx.xxx

ğŸ“‹ Agent ä»»åŠ¡ 3: åˆ›å»ºä¸€ä¸ªåä¸º agent_test.txt çš„æ–‡ä»¶ï¼Œå†™å…¥å½“å‰æ—¶é—´
------------------------------------
ğŸ¤” Agent æ€è€ƒ: æˆ‘éœ€è¦ä½¿ç”¨æ–‡ä»¶ç³»ç»Ÿå·¥å…·æ¥åˆ›å»ºæ–‡ä»¶å¹¶å†™å…¥å½“å‰æ—¶é—´
ğŸ”§ å·¥å…·è°ƒç”¨: fs(operation="write", path="workspace/agent_test.txt", content="2024-01-20 15:35:22")
ğŸ“Š å·¥å…·ç»“æœ: æ–‡ä»¶åˆ›å»ºæˆåŠŸ
âœ… ä»»åŠ¡å®Œæˆ: å·²åˆ›å»º agent_test.txt æ–‡ä»¶ï¼Œå†…å®¹ä¸ºå½“å‰æ—¶é—´
ğŸ“ æ‰§è¡Œè½¨è¿¹å·²ä¿å­˜
```

## ğŸ”§ å·¥å…·é…ç½®è¯´æ˜

### æ–‡ä»¶ç³»ç»Ÿå·¥å…·
```go
fsTool := builtin.NewFileSystemTool(
    []string{"./workspace", "./examples"},  // å…è®¸è®¿é—®çš„è·¯å¾„
    []string{"/etc", "/sys"},               // ç¦æ­¢è®¿é—®çš„è·¯å¾„
)
```

### HTTP å·¥å…·
```go
httpTool := builtin.NewHTTPTool()
// é»˜è®¤é…ç½®ï¼Œæ”¯æŒæ‰€æœ‰æ ‡å‡† HTTP æ–¹æ³•
```

### Redis å·¥å…·
```go
redisTool := builtin.NewRedisTool(
    "localhost:6379",  // Redis åœ°å€
    "",                // å¯†ç ï¼ˆå¯é€‰ï¼‰
    0,                 // æ•°æ®åº“ç¼–å·
)
```

### MySQL å·¥å…·
```go
mysqlTool := builtin.NewMySQLTool(
    "user:password@tcp(localhost:3306)/database"  // è¿æ¥å­—ç¬¦ä¸²
)
```

## ğŸ” å·¥å…·è°ƒç”¨æ–¹å¼

### ç›´æ¥è°ƒç”¨
```go
result, err := tool.Invoke(ctx, map[string]any{
    "operation": "read",
    "path":      "workspace/test.txt",
})
```

### Agent æ™ºèƒ½è°ƒç”¨
```go
result, err := agent.Loop(ctx, "è¯»å– workspace/test.txt æ–‡ä»¶çš„å†…å®¹")
```

## ğŸ› æ•…éšœæ’é™¤

**Q: æµè§ˆå™¨å·¥å…·æ³¨å†Œå¤±è´¥**
A: å®‰è£… Chrome æˆ– Chromium æµè§ˆå™¨ï¼Œç¡®ä¿å¯æ‰§è¡Œæ–‡ä»¶åœ¨ PATH ä¸­ã€‚

**Q: Redis/MySQL å·¥å…·æ³¨å†Œå¤±è´¥**
A: å¯åŠ¨ç›¸åº”çš„æœåŠ¡ï¼Œæˆ–è€…æ³¨é‡Šæ‰ç›¸å…³å·¥å…·çš„æ³¨å†Œä»£ç ã€‚

**Q: HTTP è¯·æ±‚å¤±è´¥**
A: æ£€æŸ¥ç½‘ç»œè¿æ¥ï¼ŒæŸäº›ç¯å¢ƒå¯èƒ½éœ€è¦ä»£ç†è®¾ç½®ã€‚

**Q: æ–‡ä»¶ç³»ç»Ÿæ“ä½œæƒé™é”™è¯¯**
A: æ£€æŸ¥ç›®å½•æƒé™ï¼Œç¡®ä¿ç¨‹åºæœ‰è¯»å†™æƒé™ã€‚

## ğŸ”§ è‡ªå®šä¹‰å·¥å…·é…ç½®

å¯ä»¥é€šè¿‡é…ç½®æ–‡ä»¶è‡ªå®šä¹‰å·¥å…·è¡Œä¸ºï¼š

```toml
[tools.filesystem]
allowed_paths = ["./workspace", "./data"]
blocked_paths = ["/etc", "/sys"]
max_file_size = "10MB"

[tools.http]
timeout = 30
max_redirects = 5
blocked_domains = ["localhost", "127.0.0.1"]

[tools.redis]
host = "localhost"
port = 6379
password = ""
database = 0
```

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [é…ç½®ç®¡ç†ç¤ºä¾‹](../03-configuration/README.md)
- [MCP é›†æˆç¤ºä¾‹](../../mcp/README.md)
- [å·¥å…·å¼€å‘æŒ‡å—](../../../docs/TOOLS.md)
- [API å‚è€ƒæ–‡æ¡£](../../../docs/API.md)

---

è¿™ä¸ªç¤ºä¾‹å±•ç¤ºäº† OpenManus-Go ä¸°å¯Œçš„å·¥å…·ç”Ÿæ€ç³»ç»Ÿã€‚ç»§ç»­å­¦ä¹ å…¶ä»–ç¤ºä¾‹æ¥æŒæ¡æ›´å¤šé«˜çº§åŠŸèƒ½ï¼
